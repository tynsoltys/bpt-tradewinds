<li class="leg leg{{leg.index}} border-b border-accent-blue-light  cursor-pointer" x-data="{selected:null}" @click="selected !== 1 ? selected = 1 : selected = null">
    <div class="uppercase font-medium tracking-wide leg-main grid grid-rows-1 grid-cols-leg gap-x-2 p-2 text-sm text-center font-semibold
    {{ leg.exit_date ? 'text-gray-medium' : 'text-brand-black'}}
    ">


        <div class="leg-indicator">
            {% include('partials/legs/leg_indicator.twig') %}
        </div>
        <p class="" aria-label="{{leg.leg_name}} entry date">{{leg.entry_date}}</p>
        <p class="" aria-label="{{leg.leg_name}} name">{{leg.leg_name}}</p>
        <p class="" aria-label="{{leg.leg_name}} strategy">{{leg.leg_strategy}}</p>
        <p class="" aria-label="{{leg.leg_name}} unit ratio">{{leg.unit_ratio}}</p>
        <p class="" aria-label="{{leg.leg_name}} action">{{leg.action}}</p>

        <p class="" aria-label="{{leg.leg_name}} expiry">
            {% if leg.expiry is not empty %}
                {{leg.expiry}}
            {% else %}
                <span class="text-gray-medium">--</span>
            {% endif %}
        </p>
        <p class="{{ leg.display == 'past' ? 'text-gray-medium' : ''}}" aria-label="{{leg.leg_name}} strike price">

            {% if leg.strike is not empty %}
                ${{leg.strike}}
            {% else %}
                <span class="text-gray-medium">--</span>
            {% endif %}

        </p>
        <p class="{{ leg.display == 'past' ? 'text-gray-medium' : ''}}" aria-label="{{leg.leg_name}} entry price">
            {% if leg.entry_price is not empty %}
                ${{leg.entry_price}}
            {% else %}
                <span class="text-gray-medium">--</span>
            {% endif %}
        </p>
        <div aria-label="{{leg.leg_name}} unit ratio" class="col-span-1 dropdowner" >
            <i class="rotate-0 fas fa-chevron-down " x-ref="toggle-icon " x-bind:class="selected == 1 ? 'rotate-180 transition-all duration-500 rotate-180 transform' : ''"></i>
        </div>

    </div>
    {% if leg.exit_date or leg.show_exit_fields %}
    <div class="uppercase font-medium tracking-wide leg-main grid grid-rows-1 grid-cols-leg gap-x-2 p-2 text-brand-black font-semibold text-center pt-0 text-sm">
        <p class="text-accent-red col-start-1 font-bold" aria-label="exit information">EXIT</p>
        <p class="" aria-label="{{leg.leg_name}} exit date">{{leg.exit_date}}</p>
        <p class=" col-start-6" aria-label="{{leg.leg_name}} exit date">{{leg.exit_action}}</p>
        <p class="" aria-label="{{leg.leg_name}} exit date">{{leg.expiry}}</p>
        <p class="" aria-label="{{leg.leg_name}} exit date">${{leg.strike}}</p>


        <p class="" aria-label="{{leg.leg_name}} exit price">${{leg.exit_price}}</p>
    </div>
    {% endif %}

    <div class="leg-detail grid grid-rows-1 grid-cols-leg gap-x-2 p-0 text-sm overflow-hidden transform transition-all  duration-900 " x-ref="leg1" x-show="selected" x-bind:class="selected == 1 ? 'py-2' : ''">

        <div class="col-span-3 col-start-2 m-2 mr-4 leg-description flex flex-wrap p-2 pl-8" >
            {{leg.leg_description}}
        </div>

        <div class="col-span-2 flex items-center">

            {% if leg.learn_links is not empty %}
                <ul class="list-disc">
                    {% for link in leg.learn_links %}
                    <li class="underline tracking-wide text-brand-primary-medium text-xs leading-5">
                        <a href="{{link.learn_link_url.url}}" class="learn-link"> {{link.learn_link_url.title}}</a>
                    </li>
                    {% endfor %}
                </ul>
            {% else %}
                <span class="text-gray-medium italic tect-center block"></span>
            {% endif %}


        </div>
        <div class="col-span-3 leg-witt flex">

            {{include ('partials/witt-leg.twig')}}

        </div>

    </div>
</li>
