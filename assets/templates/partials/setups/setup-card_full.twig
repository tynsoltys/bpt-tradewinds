


<article class="trade-card rounded-lg shadow-lg p-8 mb-4 bg-brand-white grid grow-rows-full grid-cols-12">
    {# TRADE SETUP  #}

    <div class="grid grid-cols-full col-span-12 ">

        {# SECURITY INFO #}
        <div class="col-span-1 row-span-2 flex flex-wrap items-center">
            {{ include ('partials/metabits/meta-security-info.twig') }}
        </div>

        {# LATEST UPDATE DATE #}
        <div class="col-span-1 ellipsis">
            {{ include ('partials/metabits/meta-latest-update-date.twig') }}
        </div>

        {# OUTLOOK  #}
        <div class="col-span-1 ellipsis">
            {{ include ('partials/metabits/meta-outlook.twig') }}
        </div>

        {# AVERAGE COST BASE  #}
        <div class="col-span-1 ellipsis">
            {{ include ('partials/metabits/meta-acb.twig') }}
        </div>

        {# STRATEGY  #}
        <div class="ellipsis">
            {{ include ('partials/metabits/meta-strategy.twig') }}
        </div>

        {# TRADE FLAG #}
        <div class="col-span-1 flex justify-end items-center ellipsis">
            {{ include ('partials/metabits/meta-trade-flag.twig') }}
        </div>

        {# DESCRIPTION #}
        <div class="col-start-2 col-span-5 flex items-start ">
            <div class="mt-8">{{trade.meta('trade_description')}}</div>
        </div>
    </div>






       {# CURRENT LEGS  #}
       {% if hasCurrent == true %}
        <div class="legs mt-6 col-span-12 ">
            <h3 class="text-lg uppercase mt-6 text-brand-primary font-semibold tracking-widest">current legs</h3>
            {{ include ('partials/legs/legs-headers.twig') }}
            <ul class="">
                {% for leg in post.legs %}
                    {% if leg.display == ('Current') %}
                        {% if leg.type_of_update.value == ('update') %}
                            {{ include ('partials/legs/leg--update.twig') }}
                        {% else %}
                            {{ include ('partials/legs/leg--default.twig') }}
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        {% if hasPast == true %}
            <div class="legs mt-6 col-span-12 p-2 px-4 bg-background-main rounded-lg" x-data="{ open: false }">
                <div class="flex justify-between legs-header" @click="open = !open">
                    <h3 class="text-md uppercase text-gray-dark font-semibold tracking-widest">past positions</h3>

                    {# //  THIS CONTROLS THE VISIBILITY #}
                    <div aria-label="expand list" class="" >
                        <i class="rotate-0 fas fa-chevron-down " x-bind:class="open == 1 ? 'rotate-180 transition-all duration-100 rotate-180 transform' : ''"></i>
                    </div>
                </div>
                <div class="legs-section" x-show="open" >
                    {{ include ('partials/legs/legs-headers_past.twig') }}
                    <ul class="">
                        {% for leg in post.legs %}
                            {% if leg.display == ('Past') %}
                                {% if leg.type_of_update.value == ('update') %}
                                    {{ include ('partials/legs/leg--update.twig') }}
                                {% else %}
                                    {{ include ('partials/legs/leg--default.twig') }}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        {% endif %}



</article>

