


<article class="trade-card p-2 md:p-4 lg:rounded-lg lg:shadow-lg lg:p-8 lg:mb-4 lg:bg-brand-white grid grid-cols-12">
    {# TRADE SETUP  #}
    <div class="col-span-12 grid grid-cols-4 lg:grid-cols-full">
        {# SECURITY INFO #}
        <div class=" m-1 col-span-3 order-1 lg:col-span-1 lg:row-span-2 mb-4">
            {{ include ('partials/metabits/meta-security-info.twig') }}
        </div>

        {# LATEST UPDATE DATE #}
        <div class=" m-1 col-span-2 lg:col-span-1 ellipsis order-4">
            {{ include ('partials/metabits/meta-latest-update-date.twig') }}
        </div>

        {# OUTLOOK  #}
        <div class=" m-1 col-span-2 lg:col-span-1 ellipsis order-4">
            {{ include ('partials/metabits/meta-outlook.twig') }}
        </div>

        {# AVERAGE COST BASE  #}
        <div class=" m-1 col-span-2 lg:col-span-1 ellipsis order-4 mt-4 lg:mt-0">
            {{ include ('partials/metabits/meta-acb.twig') }}
        </div>

        {# STRATEGY  #}
        <div class=" m-1 col-span-2 lg:col-span-1 order-4 mt-4 lg:mt-0">
            {{ include ('partials/metabits/meta-strategy.twig') }}
        </div>

        {# TRADE FLAG #}
        <div class=" m-1 col-span-1 lg:col-span-1 flex justify-end lg:items-center ellipsis order-2 lg:order-4">
            {{ include ('partials/metabits/meta-trade-flag.twig') }}
        </div>

        {# DESCRIPTION #}
        {# <div class=" m-1 col-span-4 lg:col-start-2 lg:col-span-5 flex items-start order-7">
            <div class="mt-6 md:mt-8 text-sm md:text-base">{{trade.meta('trade_description')}}</div>
        </div> #}
    </div>



    {# LEGS FOR FULL-WIDTH #}
    <div class="legs mt-6 col-span-12 hidden lg:block">
        {# CURRENT LEGS  #}
            {% if hasCurrent == true %}
            <div class="legs mt-6 col-span-12 ">
                <h3 class="text-lg uppercase mt-6 text-brand-primary font-semibold tracking-widest">current legs</h3>
                {{ include ('partials/legs/legs-headers.twig') }}
                <ul class="">
                    {% for leg in post.legs %}
                        {% if leg.display == ('Current') %}

                                {{ include ('partials/legs/leg--default.twig') }}

                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
            {% if hasPast == true %}
                <div class="legs mt-6 col-span-12 p-2 px-4 bg-background-main rounded-lg" x-data="{ open: false }">
                    <div class="flex justify-between legs-header" @click="open = !open">
                        <h3 class="text-md uppercase text-gray-dark font-semibold tracking-widest">past positions</h3>

                        {# //  THIS CONTROLS THE VISIBILITY #}
                        <div aria-label="expand list" class="" >
                            <i class="rotate-0 fas fa-chevron-down " x-bind:class="open == 1 ? 'rotate-180 transition-all duration-100 rotate-180 transform' : ''"></i>
                        </div>
                    </div>
                    <div class="legs-section" x-show="open" >
                        {{ include ('partials/legs/legs-headers_past.twig') }}
                        <ul class="">
                            {% for leg in post.legs %}
                                {% if leg.display == ('Past') %}

                                        {{ include ('partials/legs/leg--default.twig') }}

                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% endif %}

    </div>

    {# LEGS MOBILE #}

    <div class="legs mt-6 col-span-12 lg:hidden ">
        {# CURRENT LEGS  #}
            {% if hasCurrent == true %}
            <div class="legs mt-6 col-span-12 ">
                <h3 class="text-lg uppercase mt-6 text-brand-primary font-semibold tracking-widest mb-4">current legs</h3>
                <ul class="">
                    {% for leg in post.legs %}
                        {% if leg.display == ('Current') %}

                              {{ include('partials/legs/leg_mobile.twig')}}


                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
            {% endif %}





            {% if hasPast == true %}
                <div class="legs mt-6 col-span-12" x-data="{ open: false }">
                    <div class="flex justify-between legs-header" @click="open = !open">
                        <h3 class="text-md uppercase text-gray-dark font-semibold tracking-widest mb-2">past positions</h3>

                        {# //  THIS CONTROLS THE VISIBILITY #}
                        <div aria-label="expand list" class="" >
                            <i class="rotate-0 fas text-gray-dark mr-3" x-bind:class="open == 1 ? 'rotate-180 transition-all duration-100 rotate-180 transform fa-eye-slash text-gray-medium' : 'fa-eye'"></i>
                        </div>
                    </div>
                    <div class="legs-section" x-show="open" >
                        <ul class="">
                            {% for leg in post.legs %}
                                {% if leg.display == ('Past') %}

                                    {{ include('partials/legs/leg_mobile.twig')}}

                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% endif %}

    </div>




</article>

